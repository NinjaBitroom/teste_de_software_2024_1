<!-- O arquivo editar.html estende (herda) o layout base definido no base.html -->
{% extends 'base.html' %}

<!-- Dentro do bloco 'head', nós definimos o título da página -->
{% block head %}
    <title>Atualizar Cliente</title>
{% endblock %}

<!-- No bloco 'body', nós colocamos o conteúdo principal da página -->
{% block body %}
    {% with messages = get_flashed_messages() %}
        <!-- Verifica se há mensagens para mostrar -->
        {% if messages %}
            <!-- Define a estrutura da mensagem, incluindo um botão para fechar a mensagem -->
            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <!-- Mostra a primeira mensagem flash -->
                {{ messages[0] }}
            </div>
        {% endif %}
    {% endwith %}

    <!-- Título da página -->
    <h3>Atualizar Cliente</h3>

    <!-- Início do formulário para atualizar um cliente -->
    <!-- A ação do formulário é definida para apontar para a rota 'editar_cliente', passando o 'id' do cliente como parâmetro -->
    <form action="{{ url_for('root.cliente.editar_cliente_get', id=cliente.id) }}" method="POST">
        <!-- Início do grupo de input para a descrição -->
        <div class='mb-3 d-flex align-items-center'>
            <label for='nome' class='me-2'>Nome:</label>
            <input class='form-control' type='text' name='nome' id='nome' placeholder='Informe o Nome do cliente'
                   value="{{ cliente.nome }}" required autofocus/>
        </div>

        <div class='mb-3 d-flex align-items-center'>
            <label for='cpf' class='me-2'>CPF:</label>
            <input class='form-control' type='text' name='cpf' id='cpf' placeholder='Informe o CPF do cliente'
                   value="{{ cliente.cpf }}" required/>
        </div>

        <div class='mb-3 d-flex align-items-center'>
            <label for='telefone' class='me-2'>Telefone:</label>
            <input class='form-control' type='tel' name='telefone' id='telefone'
                   placeholder='Informe o telefone do cliente' value="{{ cliente.telefone }}" required/>
        </div>

        <div class='mb-3 d-flex align-items-center'>
            <label for='email' class='me-2'>Email:</label>
            <input class='form-control' type='email' name='email' id='email' placeholder='Informe o e-mail do cliente'
                   value="{{ cliente.email }}" required/>
        </div>

        <div class='mb-3 border-bottom border-dark'></div>
        <h5>Endereço do Cliente</h5>

        <div class='my-3 d-flex align-items-center'>
            <label for='cep' class='me-2'>CEP:</label>
            <input class='form-control w-25 me-3' type='text' name='cep' id='cep' placeholder='Informe o CEP do cliente'
                   maxlength="9" value="{{ cliente.cep }}" required/>
            <button type="button" class='btn btn-secondary' id="buscaCepButton">Buscar CEP</button>
        </div>

        <div class='mb-3 d-flex align-items-center'>
            <label for='logradouro' class='me-2'>Logradouro:</label>
            <input class='form-control' type='text' name='logradouro' id='logradouro'
                   placeholder='Informe o logradouro do cliente' value="{{ cliente.logradouro }}" required/>
            <label for='numero' class='mx-2'>Número:</label>
            <input class='form-control w-25' type='number' name='numero' id='numero'
                   value="{{ cliente.numero }}" required/>
        </div>

        <div class='mb-3 d-flex align-items-center'>

        </div>

        <div class='mb-3 d-flex align-items-center'>
            <label for='complemento' class='me-2'>Complemento:</label>
            <input class='form-control' type='text' name='complemento' id='complemento'
                   placeholder='Informe o complemento' value="{{ cliente.complemento }}"/>
        </div>

        <div class='mb-3 d-flex align-items-center'>
            <label for='bairro' class='me-2'>Bairro:</label>
            <input class='form-control' type='text' name='bairro' id='bairro' placeholder='Informe o bairro do cliente'
                   value="{{ cliente.bairro }}" required/>
        </div>


        <div class='mb-5 d-flex align-items-center'>
            <label for='cidade' class='me-2'>Cidade:</label>
            <input class='form-control' type='text' name='cidade' id='cidade' placeholder='Informe a cidade do cliente'
                   value="{{ cliente.cidade }}" required/>
            <label for='uf' class='mx-2'>UF:</label>
            <input class='form-control' type='text' name='uf' id='uf' maxlength="2"
                   style="width: 10%; text-transform:uppercase;" value="{{ cliente.uf }}"
                   oninput="this.value = this.value.toUpperCase()" required/>
        </div>
        <!-- Início do grupo de input para o botão de atualizar -->
        <div class='mb-3'>
            <!-- Botão para enviar o formulário -->
            <button type='submit' class='btn btn-primary mb-3'>Atualizar</button>
        </div>
        <!-- Fim do grupo de input para o botão de atualizar -->
    </form>
    <!--Fim do formulário para atualizar um cliente -->
{% endblock %}

{% block script %}
    <script src="{{ url_for('static', filename='js/clientes/clientes.js') }}"></script>
{% endblock script %}
